<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <description>Actually, less is more!</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 31 Jul 2018 15:45:53 +0800</pubDate>
    <lastBuildDate>Tue, 31 Jul 2018 15:45:53 +0800</lastBuildDate>
    <generator>Jekyll v3.8.3</generator>
    
      <item>
        <title>使用Maven部署基于JAX-WS的 WebService</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1jax-ws概述&quot; id=&quot;markdown-toc-1jax-ws概述&quot;&gt;1、JAX-WS概述&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2使用maven构建webservice项目&quot; id=&quot;markdown-toc-2使用maven构建webservice项目&quot;&gt;2、使用maven构建WebService项目&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;1jax-ws概述&quot;&gt;1、JAX-WS概述&lt;/h4&gt;

&lt;p&gt;JAX-WS2.0 的全称为 Java API for XML-Based Webservices (JAX-WS) 2.0。JAX-WS 2.0 是对 JAX-RPC 1.0 规范的扩展，是 JAX-RPC 1.1 的后续版本， JAX-RPC 2.0 标准发布不久后便被重新命名为 JAX-WS 2.0。 JAX-WS 2.0 是面向 Java 5 的开发 Web services 的最新编程标准，它提供了新的编程模型和对以往的 JAX-RPC 方式的 Web services 进行了增强。 JAX-WS2.0 (JSR 224)是Sun新的web services协议栈，是一个完全基于标准的实现。在binding层，使用的是the Java Architecture for XMLBinding (JAXB, JSR 222)，在parsing层，使用的是the Streaming API for XML (StAX, JSR 173)，同时它还完全支持schema规范。&lt;/p&gt;

&lt;h4 id=&quot;2使用maven构建webservice项目&quot;&gt;2、使用maven构建WebService项目&lt;/h4&gt;
&lt;p&gt;项目架构:&lt;br /&gt;
  &lt;img src=&quot;/styles/images/2018-7-31/1.jpg&quot; alt=&quot;deploy&quot; width=&quot;300&quot; /&gt;&lt;/p&gt;

&lt;p&gt;1、 创建服务接口&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 
&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;soap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SOAPBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;soap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SOAPBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SOAPBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RPC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HelloWorldService&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	 &lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebMethod&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2、  服务接口实现&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 
 &lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;serviceimpl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HelloWorldService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endpointInterface&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cn.nwpu.service.HelloWorldService&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HelloWorldServiceImpl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HelloWorldService&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TODO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Auto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;generated&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stub&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hello from Programmer Gate ..&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3、  创建 sun-jaxws.xml&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; 
 &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;endpoints
  xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot;
  version=&quot;2.0&quot;&amp;gt;
  &amp;lt;endpoint
      name=&quot;HelloWorldService&quot;
      implementation=&quot;cn.nwpu.serviceimpl.HelloWorldServiceImpl&quot;
      url-pattern=&quot;/hello&quot;/&amp;gt;
&amp;lt;/endpoints&amp;gt;


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4、  创建web.xml&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;web-app&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;MavenJax&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;version=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;3.1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;display-name&amp;gt;&lt;/span&gt;MavenJax&lt;span class=&quot;nt&quot;&gt;&amp;lt;/display-name&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file-list&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;index.html&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;index.htm&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;index.jsp&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;default.html&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;default.htm&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;welcome-file&amp;gt;&lt;/span&gt;default.jsp&lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/welcome-file-list&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;listener&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;listener-class&amp;gt;&lt;/span&gt;
                com.sun.xml.ws.transport.http.servlet.WSServletContextListener
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/listener-class&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/listener&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;servlet&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;servlet-name&amp;gt;&lt;/span&gt;hello&lt;span class=&quot;nt&quot;&gt;&amp;lt;/servlet-name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;servlet-class&amp;gt;&lt;/span&gt;
            com.sun.xml.ws.transport.http.servlet.WSServlet
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/servlet-class&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;load-on-startup&amp;gt;&lt;/span&gt;1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/load-on-startup&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/servlet&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;servlet-mapping&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;servlet-name&amp;gt;&lt;/span&gt;hello&lt;span class=&quot;nt&quot;&gt;&amp;lt;/servlet-name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;url-pattern&amp;gt;&lt;/span&gt;/hello&lt;span class=&quot;nt&quot;&gt;&amp;lt;/url-pattern&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/servlet-mapping&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;session-config&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;session-timeout&amp;gt;&lt;/span&gt;120&lt;span class=&quot;nt&quot;&gt;&amp;lt;/session-timeout&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/session-config&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/web-app&amp;gt;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;5、  在pom.xml文件中导入依赖&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
  &amp;lt;groupId&amp;gt;cn.nwpu&amp;lt;/groupId&amp;gt;
  &amp;lt;artifactId&amp;gt;MavenJax&amp;lt;/artifactId&amp;gt;
  &amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
  &amp;lt;version&amp;gt;0.0.1-SNAPSHOT&amp;lt;/version&amp;gt;
  
  &amp;lt;dependencies&amp;gt;
	&amp;lt;dependency&amp;gt;
		&amp;lt;groupId&amp;gt;com.sun.xml.ws&amp;lt;/groupId&amp;gt;
		&amp;lt;artifactId&amp;gt;jaxws-rt&amp;lt;/artifactId&amp;gt;
		&amp;lt;version&amp;gt;2.2.10&amp;lt;/version&amp;gt;
	&amp;lt;/dependency&amp;gt;
  	&amp;lt;dependency&amp;gt;
	    &amp;lt;groupId&amp;gt;javax.servlet&amp;lt;/groupId&amp;gt;
	    &amp;lt;artifactId&amp;gt;javax.servlet-api&amp;lt;/artifactId&amp;gt;
	    &amp;lt;version&amp;gt;3.1.0&amp;lt;/version&amp;gt;
	    &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
	&amp;lt;/dependency&amp;gt;
	&amp;lt;dependency&amp;gt; 
	   &amp;lt;groupId&amp;gt;javax.servlet.jsp&amp;lt;/groupId&amp;gt; 
	   &amp;lt;artifactId&amp;gt;jsp-api&amp;lt;/artifactId&amp;gt; 
	   &amp;lt;version&amp;gt;2.1&amp;lt;/version&amp;gt; 
	   &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
	&amp;lt;/dependency&amp;gt;
  &amp;lt;/dependencies&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;6、 run on server &lt;br /&gt;
 即可通过 localhost:8080/as?wsdl 访问&lt;/p&gt;

</description>
        <pubDate>Tue, 31 Jul 2018 14:37:01 +0800</pubDate>
        <link>http://localhost:4000/2018/07/31/jax-ws-webservice/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/31/jax-ws-webservice/</guid>
        
        <category>Web Service</category>
        
        
        <category>教程</category>
        
      </item>
    
      <item>
        <title>初识Web Service</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1何为-web-service&quot; id=&quot;markdown-toc-1何为-web-service&quot;&gt;1、何为 Web Service?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2webservice的组件&quot; id=&quot;markdown-toc-2webservice的组件&quot;&gt;2、WebService的组件&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3应用实例&quot; id=&quot;markdown-toc-3应用实例&quot;&gt;3、应用实例&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4为什么使用webservice&quot; id=&quot;markdown-toc-4为什么使用webservice&quot;&gt;4、为什么使用WebService&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5快速开始&quot; id=&quot;markdown-toc-5快速开始&quot;&gt;5、快速开始&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;1何为-web-service&quot;&gt;1、何为 Web Service?&lt;/h4&gt;
&lt;p&gt;（1）它使得本地应用软件所提供的服务可以通过网络在远程得到使用，它们之间的消息传递是通过XML文件进行的。因此，Web Service不受操作系统和编程语言的限制，例如Ubuntu可以与Windows进行通信，Java可以与Python 进行通信。
（2）Web Service 基于像TCP/IP、HTTP、Java、HTML和XML等这些开放标准构建的，因此可以构建本地的、分布式的或者基于web的应用。&lt;/p&gt;
&lt;h4 id=&quot;2webservice的组件&quot;&gt;2、WebService的组件&lt;/h4&gt;
&lt;p&gt;Web Service 的基础是XML+HTTP,W所有的Web Service 都会用到以下组件:&lt;br /&gt;
（1）SOAP(Simple Object Access Protocol)&lt;a href=&quot;http://www.w3.org/TR/2003/REC-soap12-part0-20030624/&quot;&gt;SOAP1.2&lt;/a&gt;&lt;br /&gt;
简单对象访问协议，用来描述传递信息的格式，它是基于XML的协议。主要有以下优点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;它是一种通信协议，可以在应用之间进行通信&lt;/li&gt;
  &lt;li&gt;平台独立性&lt;/li&gt;
  &lt;li&gt;语言独立性&lt;/li&gt;
  &lt;li&gt;简单和可扩展性&lt;/li&gt;
  &lt;li&gt;允许通过防火墙&lt;/li&gt;
  &lt;li&gt;遵循W3C标准&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;（2）UDDI(Universal Description,Discovery and Integration）&lt;br /&gt;
用来管理，分发，查询 WebService&lt;br /&gt;
（3）WSDL（Web Services Description Languange）&lt;a href=&quot;https://www.w3.org/TR/2007/REC-wsdl20-primer-20070626/&quot;&gt;WSDL&lt;/a&gt;&lt;br /&gt;
用来描述如何访问具体的接口&lt;/p&gt;

&lt;h4 id=&quot;3应用实例&quot;&gt;3、应用实例&lt;/h4&gt;

&lt;p&gt;一个简单的账户管理和订单处理系统，会计人员用客户端（JSP或者其它）来创建新的账户，并且键入新的客户订单&lt;br /&gt;
订单处理系统使用Java实现在其它电脑上并且与数据库进行交互&lt;br /&gt;
我们采用以下步骤进行构建：&lt;br /&gt;
1、客户端程序将账户注册信息捆绑到SOAP消息中&lt;br /&gt;
2、将SOAP消息作为HTTP POST请求的消息体发送到 WebService端&lt;br /&gt;
3、WebService端解包SOAP请求 并且将其转换为应用可以理解的命令&lt;br /&gt;
4、WebService端处理请求 并且将响应信息放入另一个SOAP中响应给用户&lt;br /&gt;
5、用户得到相应的数据，并且解包呈现出来&lt;/p&gt;
&lt;h4 id=&quot;4为什么使用webservice&quot;&gt;4、为什么使用WebService&lt;/h4&gt;
&lt;p&gt;1、可以暴露已有的方法到网络上&lt;br /&gt;
2、互通性，允许多个应用相互之间进行通信，不限于系统和语言&lt;br /&gt;
3、采用标准化协议&lt;br /&gt;
4、相互通讯消耗低&lt;br /&gt;
5、基于XML，使得跨系统，跨语言通信不受限制&lt;br /&gt;
6、低耦合&lt;br /&gt;
7、粗粒度&lt;br /&gt;
8、能够同步或异步&lt;br /&gt;
9、支持远程过程调用&lt;br /&gt;
10、支持文档交换，表现在 XML不仅可以存放数据，也可以存放长文本&lt;/p&gt;

&lt;h4 id=&quot;5快速开始&quot;&gt;5、快速开始&lt;/h4&gt;

&lt;p&gt;(1) 环境配置&lt;br /&gt;
Eclipse+Tomcat+Axis2(&lt;a href=&quot;http://axis.apache.org/axis2/java/core/download.cgi&quot;&gt;axis2&lt;/a&gt; )&lt;br /&gt;
Axis2选择 Binary Distribution&lt;br /&gt;
Eclips中Axis2配置 &lt;br /&gt;
windows-&amp;gt;prefrence-&amp;gt;Axis2 Preferences-&amp;gt;Browse(D:/axis2-1.7.8 自己解压的位置)-&amp;gt;Apply&lt;br /&gt;
（2） 创建项目&lt;br /&gt;
    a. 创建java项目， Javaproject 或者 Dynamic项目均可。&lt;br /&gt;
    b. 右键项目 new Web Service，配置Tomcat，Axis等，如图：&lt;br /&gt;
    &lt;img src=&quot;/styles/images/2018-7-26/2018-07-26_113237.jpg&quot; alt=&quot;deploy&quot; width=&quot;500&quot; /&gt;&lt;/p&gt;

&lt;p&gt;（3）  服务器端实现&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Caculate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebMethod&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebMethod&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;	
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WebService&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CaculateImpl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Caculate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;（4）  服务端点注册&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;javax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ws&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Caculate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CaculateImpl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	 &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;Caculate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CaculateImpl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://1X.2X.1XX.1XX:8080/Caculate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ca&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;（5） 客户端生成&lt;br /&gt;
新建项目-&amp;gt;右键SRc-&amp;gt;Show in Terminal&lt;br /&gt;
然后在终端输入 wsimport -keep http://1X.2X.1XX.1XX:8080/Caculate?wsdl&lt;br /&gt;
刷新项目 即可看见自动生成的包&lt;br /&gt;
如图:&lt;br /&gt;
  &lt;img src=&quot;/styles/images/2018-7-26/1.jpg&quot; alt=&quot;deploy&quot; width=&quot;300&quot; /&gt;&lt;/p&gt;

&lt;p&gt;在Test.java中实现主函数进行测试&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nwpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Test&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;CaculateImplService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CaculateImplService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;CaculateImpl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ci&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getCaculateImplPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;nf&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ci&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
		&lt;span class=&quot;nf&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ci&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;curt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;参考文献&lt;br /&gt;
 &lt;a href=&quot;https://www.tutorialspoint.com/webservices/web_services_summary.htm&quot;&gt;https://www.tutorialspoint.com/webservices/web_services_summary.htm&lt;/a&gt; 
&lt;a href=&quot;https://blog.csdn.net/xw13106209/article/details/7049614&quot;&gt; https://blog.csdn.net/xw13106209/article/details/7049614&lt;/a&gt;&lt;/p&gt;

</description>
        <pubDate>Thu, 26 Jul 2018 14:37:01 +0800</pubDate>
        <link>http://localhost:4000/2018/07/26/start-webservice/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/26/start-webservice/</guid>
        
        <category>Web Service</category>
        
        
        <category>教程</category>
        
      </item>
    
      <item>
        <title>简单的搭建一个FTP服务器</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-安装ftp&quot; id=&quot;markdown-toc-1-安装ftp&quot;&gt;1. 安装ftp&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-使用dos命令进行提交&quot; id=&quot;markdown-toc-2-使用dos命令进行提交&quot;&gt;2. 使用dos命令进行提交&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-ubuntu终端中文乱码的问题&quot; id=&quot;markdown-toc-3-ubuntu终端中文乱码的问题&quot;&gt;3. Ubuntu终端中文乱码的问题&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;想让自己的台式机跟自己的笔记本可以进行文件传输  虽然QQ什么挺好的吧  但是Ubuntu上下载个QQ感觉怪怪的，因此动手搭建自己的Ubuntu ftp服务器并记录下自己搭建的过程&lt;/p&gt;
&lt;h4 id=&quot;1-安装ftp&quot;&gt;1. 安装ftp&lt;/h4&gt;
&lt;p&gt;1.安装：sudo apt install vsftpd&lt;br /&gt;
2.配置 vsftpd.conf&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;	#禁止匿名访问
	anonymous_enable=NO
	#接受本地用户
	local_enable=YES
	#允许上传
	write_enable=YES
	#用户只能访问限制的目录
	chroot_local_user=YES
	#设置固定目录，在结尾添加。如果不添加这一行，各用户对应自己的目录，当然这个文件夹自己建
	local_root=/home/ftp&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3.添加ftp用户&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo useradd -d /home/ftp -M ftpuser
sudo passwd ftpuser&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;4.修改文件夹权限&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo chmod 777 /home/ftp&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;5.修改 pam.d/vsftpd&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo gedit /etc/pam.d/vsftpd
注释掉auth required pam_shells.so
 #auth required pam_shells.so&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;6.重启 vsftpd&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo service vsftpd restart&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;此时就可以使用刚才建的这个用户登录ftp服务器了 看到的是 local_root 设置的/home/ftp  并且限制在该目录&lt;br /&gt;
可以通过以下几种方法进行访问&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;在浏览器中输入 ftp://XXXX.XXXX.XXXX.XXX进行访问&lt;/li&gt;
  &lt;li&gt;也可以在dos命令下访问&lt;/li&gt;
  &lt;li&gt;使用flashFXP进行文件的提交&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;2-使用dos命令进行提交&quot;&gt;2. 使用dos命令进行提交&lt;/h4&gt;
&lt;p&gt;在c:\Windows\System32\drivers\etc下的hosts文件添加IP地址的配置
xx.xx.xx.xx nwpu&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;C:\Users\wq&amp;gt;ftp nwpu
连接到 nwpu
220 (vsFTPd 3.0.3)
用户(10.13.34.11:(none)): xx
331 Please specify the password.
密码:
230 Login successful.
ftp&amp;gt; dir
200 PORT command successful. Consider using PASV.
150 Here comes the directory listing.
-rw-------    1 1003     1003      1733488 Apr 10 13:47 2.zip
-rw-------    1 1003     1003          230 Apr 09  2017 const修饰的成员函数剖解.
txt
drwxr-xr-x    2 0        0            4096 Jul 05 20:17 data
226 Directory send OK.
ftp: 收到 210 字节，用时 0.00秒 70.00千字节/秒。
ftp&amp;gt; send d:/ftp/a.txt
200 PORT command successful. Consider using PASV.
150 Ok to send data.
226 Transfer complete.
ftp: 发送 4 字节，用时 0.04秒 0.10千字节/秒。&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;3-ubuntu终端中文乱码的问题&quot;&gt;3. Ubuntu终端中文乱码的问题&lt;/h4&gt;
&lt;p&gt;这是因为Windows默认的编码格式是GBK格式 而Ubuntu默认的编码格式是UTF-8，因此导致乱码。&lt;br /&gt;
解决方案：&lt;br /&gt;
	在windows下 使用notepad++ 将文件的编码改成UTF-8再进行发送，
	需编码格式一直才不会产生乱码的现象&lt;/p&gt;
</description>
        <pubDate>Tue, 10 Jul 2018 14:37:01 +0800</pubDate>
        <link>http://localhost:4000/2018/07/10/build-my-ftp-server/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/10/build-my-ftp-server/</guid>
        
        <category>ftp</category>
        
        
        <category>教程</category>
        
      </item>
    
      <item>
        <title>Build Python Environment</title>
        <description>
</description>
        <pubDate>Tue, 10 Jul 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/07/10/build-python-environment/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/10/build-python-environment/</guid>
        
        
      </item>
    
      <item>
        <title>WebSocket使用教程</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-为什么要使用websocket&quot; id=&quot;markdown-toc-1-为什么要使用websocket&quot;&gt;1、 为什么要使用websocket&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-websocket-是如何进行工作的呢&quot; id=&quot;markdown-toc-2-websocket-是如何进行工作的呢&quot;&gt;2、 websocket 是如何进行工作的呢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-编写第一个demo&quot; id=&quot;markdown-toc-3-编写第一个demo&quot;&gt;3、 编写第一个Demo&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#a-热身&quot; id=&quot;markdown-toc-a-热身&quot;&gt;a 、热身&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#b第一个demo&quot; id=&quot;markdown-toc-b第一个demo&quot;&gt;b、第一个demo&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;参考博客： &lt;a href=&quot;https://blog.csdn.net/u014316363/article/details/43408325 &quot;&gt;https://blog.csdn.net/u014316363/article/details/43408325 &lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;1-为什么要使用websocket&quot;&gt;1、 为什么要使用websocket&lt;/h2&gt;
&lt;p&gt;传统的浏览器，是我们在浏览器端向服务器端请求数据，服务器端再将数据发送过来，随着对实时通信的需求，我们需要当服务器端的数据发生变化时，便将数据推送到浏览器端。这时我们想到的办法是建立长传机制，在服务器仍然有数据发送的时候，服务器与浏览器之间保持http连接，但是http连接的开销过大， 每次都需要发送http头和cookie数据 ，这无疑大大的加大了实际发送给服务器的数据量。为了解决这一问题，国际互联网工程任务组（The Internet Engineering Task Force，简称 IETF）设计了新的标准 也就是websocket，详见： &lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/jsr356-1937161.html&quot;&gt;JSR 356, Java API for WebSocket&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-websocket-是如何进行工作的呢&quot;&gt;2、 websocket 是如何进行工作的呢&lt;/h2&gt;
&lt;p&gt;客户端建立websocket连接是通过 websocket握手过程建立的&lt;br /&gt;
WebSocket握手过程&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;首先是由客户端发送常规的HTTP请求给服务器端，这个请求中包含了升级的头部，它告诉了服务器  希望建立websocket连接&lt;br /&gt;
以下为请求建立连接的头部&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;
GET ws://websocket.example.com/ HTTP/1.1
Origin: http://example.com
Connection: Upgrade
Host: websocket.example.com
Upgrade: websocket
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;值得注意的是websocket使用的是  ws的方案，而wss是类似于 https一样的更为安全的方案&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;如果服务器支持websocket协议 并且同意与浏览器建立websocket连接   则响应该请求&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;	
	HTTP/1.1 101 WebSocket Protocol Handshake
	Date: Wed, 16 Oct 2013 10:07:34 GMT
	Connection: Upgrade
	Upgrade: WebSocket
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样就建立了像http一样的连接 并且可以进行发送数据  与http连接相似的是  他们都是建立在tcp/ip连接上&lt;/p&gt;

&lt;p&gt;那怎么可以保证websocket传输的可靠性呢？&lt;br /&gt;
为了保证这些信息可以正确的被重构，每一个帧都有4-12个字节的数据作为前缀，利用这种基于帧的数据传送，可以有效的减少无用数据的传送。&lt;br /&gt;
如图：一个服务器可以连接好几个客户端  客户端可以用实现符合RFC 6455规范  与服务器端进行通信&lt;br /&gt;
&lt;img src=&quot;/styles/images/websocket/websocket_conmu.png&quot; alt=&quot;websocket_commu&quot; width=&quot;500&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;3-编写第一个demo&quot;&gt;3、 编写第一个Demo&lt;/h2&gt;
&lt;h4 id=&quot;a-热身&quot;&gt;a 、热身&lt;/h4&gt;
&lt;p&gt;（1）建立连接&lt;br /&gt;
使用js建立连接&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var ws = 
			new WebSocket('ws://localhost:8080/websocketdemo02/websocket');&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可以将其放在button里面,手动点击建立连接即封装成一个函数，也可以放在js代码段的最前面，页面加载时便建立了连接。&lt;br /&gt;
服务器端实现：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@ServerEndpoint(value=&quot;/chat&quot;,encoders=MessageEncoder.class,decoders=MessageDecoder.class)
public class MyServer {
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可以通过ws://localhost:8080/项目名称/chat 与其建立连接&lt;br /&gt;
若在其他主机上 则可以通过 IP地址进行连接   var ws=new WebSocket(‘ws://XXXX.XXXX.XXXX.XXXX/项目名称/chat’)&lt;br /&gt;
（2）常用方法说明&lt;br /&gt;
onOpen()  当连接建立成功后调用该函数；&lt;br /&gt;
	服务器端:被@OnOpen()注解的函数&lt;em&gt;**&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@OnOpen
	public void onOpen(Session session) {
		System.out.println(String.format(&quot;%s jioned the chat room.&quot;,session.getId()));
		peers.add(session);
	}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;客户端：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ws.onopen=function(event){

}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;需要注意的是  websocket是事件驱动的API   我们既可以采用注解，也可以采用接口驱动 这里我们采用接口驱动&lt;/p&gt;

&lt;p&gt;onMessage()  当接收到信息时自动调用该函数；&lt;br /&gt;
	服务器端：被@OnMessage注解的函数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@OnMessage
	public void onMessage(String str,Session session) throws IOException,EncodeException, DecodeException{
		//broadcast the message  除了自己之外的别人都接受到消息
		System.out.println(str);
			for(Session peer:peers) {
			if(!session.getId().equals(peer.getId())) {
				peer.getBasicRemote().sendText(str);
			}
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;static Set&lt;Session&gt; peers=Collections.synchronizedSet(new HashSet&lt;Session&gt;());可以记录所有的连接到该服务端的 session  
客户端 :&lt;/Session&gt;&lt;/Session&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//接收到消息的回调方法
	ws.onmessage=function(event){
		//alert(&quot;onmessage&quot;);//有消息发送过来时才调用该函数
		console.log(event.data);//
		var obj=JSON.parse(event.data);
		$(&quot;#ct&quot;).html(obj.message);
	}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OnClose() 函数关闭时自动调用该函数；&lt;br /&gt;
	服务器端：被 @OnClose注解的函数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@OnClose
	public void OnClose(Session session) throws IOException,EncodeException{
		System.out.println(String.format(&quot;%s left the chat root.&quot;,session.getId()));
		peers.remove(session);
		
		for(Session peer:peers) {
			Message message=new Message();
			message.setSender(&quot;server&quot;);
			message.setContent(String.format(&quot;%s left the chat room&quot;,(String)session.getUserProperties().get(&quot;user&quot;)));
			message.setRecieved(new Date());
			peer.getBasicRemote().sendObject(message);
		}
	}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;客户端：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/连接关闭的回调方法
      websocket.onclose = function () {
          setMessageInnerHTML(&quot;WebSocket连接关闭&quot;);
      }&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;onError() 连接发生错误时调用该函数。&lt;br /&gt;
服务器端：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@OnError
	public void onError () {
	}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;客户端：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ws.onerror=function(event){
		alert(&quot;erorr&quot;);
	}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;（3）发送消息&lt;br /&gt;
在js中发送字符串&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;exampleSocket.onopen = function (event) {
  exampleSocket.send(&quot;Here's some text that the server is urgently awaiting!&quot;); 
};&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在js中通过websocket发送JSON格式的数据&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function sendText() {
  // Construct a msg object containing the data the server needs to process the message from the chat client.
  var msg = {
    type: &quot;message&quot;,
    text: document.getElementById(&quot;text&quot;).value,
    id:   clientID,
    date: Date.now()
  };

  // Send the msg object as a JSON-formatted string.
  exampleSocket.send(JSON.stringify(msg));
  
  // Blank the text input element, ready to receive the next line of text from the user.
  document.getElementById(&quot;text&quot;).value = &quot;&quot;;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Js中对JSON格式的数据进行解析&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;exampleSocket.onmessage = function(event) {
  var f = document.getElementById(&quot;chatbox&quot;).contentDocument;
  var text = &quot;&quot;;
  var msg = JSON.parse(event.data);
  var time = new Date(msg.date);
  var timeStr = time.toLocaleTimeString();
  
  switch(msg.type) {
    case &quot;id&quot;:
      clientID = msg.id;
      setUsername();
      break;
    case &quot;username&quot;:
      text = &quot;&lt;b&gt;User &lt;em&gt;&quot; + msg.name + &quot;&lt;/em&gt; signed in at &quot; + timeStr + &quot;&lt;/b&gt;&lt;br /&gt;&quot;;
      break;
    case &quot;message&quot;:
      text = &quot;(&quot; + timeStr + &quot;) &lt;b&gt;&quot; + msg.name + &quot;&lt;/b&gt;: &quot; + msg.text + &quot;&lt;br /&gt;&quot;;
      break;
    case &quot;rejectusername&quot;:
      text = &quot;&lt;b&gt;Your username has been set to &lt;em&gt;&quot; + msg.name + &quot;&lt;/em&gt; because the name you chose is in use.&lt;/b&gt;&lt;br /&gt;&quot;
      break;
    case &quot;userlist&quot;:
      var ul = &quot;&quot;;
      for (i=0; i &amp;lt; msg.users.length; i++) {
        ul += msg.users[i] + &quot;&lt;br /&gt;&quot;;
      }
      document.getElementById(&quot;userlistbox&quot;).innerHTML = ul;
      break;
  }
  
  if (text.length) {
    f.write(text);
    document.getElementById(&quot;chatbox&quot;).contentWindow.scrollByPages(1);
  }
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在java后台服务器端向客户端发送数据&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;方法一：
@OnMessage
public String myOnMessage (String txt) {
   return txt.toUpperCase();
}
如果@OnMessage 注解的方法返回值不为空  返回的内容将会被发送


方法二：  
RemoteEndpoint.Basic other = session.getBasicRemote();
other.sendText (&quot;Hello, world&quot;);

发送对象时   sendObject   ……..&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;b第一个demo&quot;&gt;b、第一个demo&lt;/h4&gt;
&lt;p&gt;第一个demo我们编写一个群聊系统我们需要实现的功能是  当一个客户端发送消息，其它的客户端都可以收到。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;创建消息实体类&lt;/li&gt;
  &lt;li&gt;消息转换为json类&lt;/li&gt;
  &lt;li&gt;解析json为消息实体类&lt;/li&gt;
  &lt;li&gt;服务器类&lt;/li&gt;
  &lt;li&gt;客户端&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;项目源码地址  &lt;a href=&quot;https://github.com/WangQi1415/WebSocket/ &quot;&gt;https://github.com/WangQi1415/WebSocket/ &lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 09 Jul 2018 13:31:01 +0800</pubDate>
        <link>http://localhost:4000/2018/07/09/use-websocket-com/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/09/use-websocket-com/</guid>
        
        <category>WebSocket</category>
        
        
        <category>教程</category>
        
      </item>
    
  </channel>
</rss>
